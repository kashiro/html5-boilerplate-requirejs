/*
 * grunt-requirejs-optimizer
 * https://github.com/kashiro/grunt-requirejs-optimizer
 *
 * Copyright (c) 2012 tomoyuki.kashiro
 * Licensed under the MIT license.
 */
module.exports = function(grunt) {
  var requirejs = require('requirejs'),
      done = this.async(),
      config = this.data.optimize;

  grunt.log.write( '\n\nrequirejs optimizer: start\n' );

  grunt.registerMultiTask('optimize', 'execute requirejs optimizer', function(){
    requirejs.optimize(config, function(res){
      grunt.log.write( '\n\nrequirejs optimizer: end\n' );
      done(true);
    });
  });
};

